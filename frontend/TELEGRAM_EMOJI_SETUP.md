# üé≠ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –†–ï–ê–õ–¨–ù–´–• –∞–Ω–∏–º–∞—Ü–∏–π —ç–º–æ–¥–∑–∏ Telegram

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd frontend
npm install lottie-web @types/lottie-web
```

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤ Telegram**
–ö–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Telegram WebApp:
- `TelegramEmojiExtractor` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–º–æ–¥–∑–∏ –≤ DOM
- –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `.tgs` –∏ `.webm` —Ñ–∞–π–ª–∞–º
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç Lottie –¥–∞–Ω–Ω—ã–µ –∏–∑ TGS —Ñ–∞–π–ª–æ–≤
- –ö–µ—à–∏—Ä—É–µ—Ç –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 2. **Fallback –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞**
–í –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ:
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- CSS –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
- –ü–ª–∞–≤–Ω–∞—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```tsx
import RealTelegramEmoji from './components/ui/RealTelegramEmoji';

// –ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
<RealTelegramEmoji emoji="üí°" size="large" />

// –° –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –∫–ª–∏–∫–∞
<RealTelegramEmoji 
  emoji="‚ö°" 
  size="medium" 
  onClick={() => console.log('Clicked!')}
  autoPlay={true}
/>
```

## üîç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

1. **TGS —Ñ–∞–π–ª—ã** - Telegram Stickers (—Å–∂–∞—Ç—ã–π Lottie JSON)
2. **WebM –≤–∏–¥–µ–æ** - –í–∏–¥–µ–æ –∞–Ω–∏–º–∞—Ü–∏–∏ —ç–º–æ–¥–∑–∏
3. **Lottie JSON** - –í–µ–∫—Ç–æ—Ä–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
4. **CSS Fallback** - –ó–∞–ø–∞—Å–Ω—ã–µ CSS –∞–Ω–∏–º–∞—Ü–∏–∏

## üöÄ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
```typescript
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∏–∑–≤–ª–µ—á—å –∞–Ω–∏–º–∞—Ü–∏—é
<RealTelegramEmoji emoji="üéâ" />
```

### –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ:
```typescript
import { telegramEmojiExtractor } from './utils/telegramEmojiExtractor';

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ
const emojiData = await telegramEmojiExtractor.forceExtractEmoji('üéâ');
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/ui/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RealTelegramEmoji.tsx    # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TelegramEmoji.tsx        # –°—Ç–∞—Ä—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (fallback)
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegramEmojiExtractor.ts # –≠–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä –∞–Ω–∏–º–∞—Ü–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ styles/
‚îÇ       ‚îî‚îÄ‚îÄ globals.css              # –°—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
‚îî‚îÄ‚îÄ public/
    ‚îî‚îÄ‚îÄ emoji-animations/            # –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
        ‚îú‚îÄ‚îÄ lightbulb.json
        ‚îú‚îÄ‚îÄ lightning.json
        ‚îî‚îÄ‚îÄ ...
```

## üé¨ –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–µ –∞–Ω–∏–º–∞—Ü–∏–π

### –ú–µ—Ç–æ–¥ 1: –ò–∑ Telegram Desktop
1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram Desktop
2. –ù–∞–π–¥–∏—Ç–µ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–º–æ–¥–∑–∏ –≤ —á–∞—Ç–∞—Ö
3. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
4. –í–æ –≤–∫–ª–∞–¥–∫–µ Network –∏—â–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `.tgs` —Ñ–∞–π–ª–∞–º
5. –°–∫–∞—á–∞–π—Ç–µ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ JSON

### –ú–µ—Ç–æ–¥ 2: –ò–∑ Telegram Web
1. –û—Ç–∫—Ä–æ–π—Ç–µ web.telegram.org
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–º–æ–¥–∑–∏
3. –í DevTools –Ω–∞–π–¥–∏—Ç–µ Lottie –∞–Ω–∏–º–∞—Ü–∏–∏
4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ JSON –¥–∞–Ω–Ω—ã–µ

### –ú–µ—Ç–æ–¥ 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ –Ω–∞—à —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ—Ä
```typescript
// –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ Telegram WebApp
const extractor = telegramEmojiExtractor;
await extractor.initialize();
const allEmojis = await extractor.getAllCachedEmojis();
console.log('Extracted emojis:', allEmojis);
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```typescript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
localStorage.setItem('telegram-emoji-debug', 'true');
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å:
```typescript
// –í –∫–æ–Ω—Å–æ–ª–∏
console.log('Telegram detected:', window.Telegram?.WebApp);
console.log('Cached emojis:', await telegramEmojiExtractor.getAllCachedEmojis());
```

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ê–Ω–∏–º–∞—Ü–∏–∏ –∫–µ—à–∏—Ä—É—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- Lazy loading - –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Lottie-web

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –≤–∞—à–∏ —ç–º–æ–¥–∑–∏ –±—É–¥—É—Ç –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å—Å—è **–¢–û–ß–ù–û –¢–ê–ö –ñ–ï** –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º Telegram! üéâ

### –í Telegram WebApp:
- ‚úÖ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ TGS –∞–Ω–∏–º–∞—Ü–∏–∏
- ‚úÖ –í–µ–∫—Ç–æ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚úÖ –ü–ª–∞–≤–Ω—ã–µ 60fps –∞–Ω–∏–º–∞—Ü–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–º–æ–¥–∑–∏

### –í –±—Ä–∞—É–∑–µ—Ä–µ:
- ‚úÖ –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- ‚úÖ CSS fallback –∞–Ω–∏–º–∞—Ü–∏–∏
- ‚úÖ –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ –ü–ª–∞–≤–Ω–∞—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è
